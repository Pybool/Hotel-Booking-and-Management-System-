
<div elname="zc-component-Reservation" class="parent container zcform_Reservation zc-form-fullheight ">
    <div>
        <app-custom-alert
    [show]="showAlert"
    [message]="alertMessage"
    [duration]="alertDuration"
    [backgroundColor]="alertBackgroundColor"
    ></app-custom-alert>
    <div id="Reservation_ZC_LRKT9Y" class="form-outer-wrapper Reservation_ZC_LRKT9Y">
        <div class="row">
           <form action="" class="form-table  label-left " name="Staff">
              <div class="form-header flex-end">
                <span style="text-align: left;" class="form-title col-3" id="formTitleElem">Rooms Service Bills</span>
                <input type="text" placeholder="Enter either a name, email or phone number to search" class="form-control search-input"/>
                <a style="width:150px;" id="Staffs" class="create-staff btn btn-outline-primary col-2" href="javascript:void(0)" >Create serviceBill</a>
              </div>
              <div class="table-wrapper" style="max-height: 50vh;overflow-y: scroll;">
                 <table style="background: white;" class="data-table-init is-seperate table-dark table-striped nk-tb-list transparent">
                     <thead class="table-light">
                        <th class="nk-tb-col">Reservation ID</th>
                         <th class="nk-tb-col">Service Rendered</th>
                         <th class="nk-tb-col">Bill Date</th>
                         <th class="nk-tb-col">Room Number</th>
                         <th class="nk-tb-col">Guest Names</th>
                         <th class="nk-tb-col">Contact Category</th>
                         <th class="nk-tb-col">Contact Category Handler</th>
                         <th class="nk-tb-col">Service Rate</th>
                         <th class="nk-tb-col">Prepaid Amount</th>
                         <th class="nk-tb-col">Service Tax</th>
                         <th class="nk-tb-col">Grand Total</th>
                         <th class="nk-tb-col"></th>
                     </thead>
                     <tbody>
                         <tr class="nk-tb-item" *ngFor="let serviceBill of serviceBills"> 
                            <td style="font-size: 17px; font-weight: 400px;" class="nk-tb-col active-zone pointer"><b>{{serviceBill.room.active_reservation_token || serviceBill.room.dead_reservation_token}}</b></td>
                             <td style="font-size: 17px; font-weight: 400px;" class="nk-tb-col active-zone pointer"><b>{{serviceBill.service.name}}</b></td>
                             <td class="nk-tb-col pointer"><b>{{serviceBill.bill_date}}</b></td> 
                             <td class="nk-tb-col pointer"><b>{{serviceBill.room.room_no}}</b></td>
                             <td class="nk-tb-col pointer"><b>{{serviceBill.contact?.firstname}} {{serviceBill.contact?.middlename }} {{serviceBill.contact?.lastname || 'N/A'}} </b></td>
                             <td class="nk-tb-col pointer"><b>{{serviceBill.room.occupant?.contact_type?.name | uppercase}} </b></td>
                             <td class="nk-tb-col pointer"><b>{{serviceBill.room.occupant?.firstname}} {{serviceBill.room.occupant?.middlename}} {{serviceBill.room.occupant?.lastname}}</b></td>
                             <td class="nk-tb-col pointer"><b>{{serviceBill.rate}}</b></td> 
                             <td class="nk-tb-col pointer"><b>{{serviceBill.prepaid_amount}}</b></td> 
                             <td class="nk-tb-col pointer"><b>{{serviceBill.tax_amount}}</b></td> 
                             <td class="nk-tb-col pointer"><b>{{serviceBill.grand_total}}</b></td> 
                             <td style="width:30px;" class="nk-tb-col">
                                <div class="nk-tb-col nk-tb-col-tools">
                                    <ul class="nk-tb-actions gx-2">
                                        <li class="nk-tb-action-hidden"><a href="#" class="btn btn-sm btn-icon btn-trigger" data-bs-toggle="tooltip" data-bs-placement="top" title="" data-bs-original-title="Edit" aria-label="Wallet"><em class="icon ni ni-edit-fill"></em></a></li>
                                       <li class="nk-tb-action-hidden"><a href="#" class="btn btn-sm btn-icon btn-trigger" data-bs-toggle="tooltip" data-bs-placement="top" title="" data-bs-original-title="Commentary" aria-label="Wallet"><em class="icon ni ni-comments"></em></a></li>
                                       <li class="nk-tb-action-hidden"><a href="#" class="btn btn-sm btn-icon btn-trigger" data-bs-toggle="tooltip" data-bs-placement="top" title="" data-bs-original-title="Send Email" aria-label="Send Email"><em class="icon ni ni-mail-fill"></em></a></li>
                                       <li class="nk-tb-action-hidden"><a href="#" class="btn btn-sm btn-icon btn-trigger" data-bs-toggle="tooltip" data-bs-placement="top" title="" data-bs-original-title="Suspend" aria-label="Suspend"><em class="icon ni ni-user-cross-fill"></em></a></li>
                                       <li>
                                          <div class="drodown">
                                             <a href="#" class="btn btn-sm btn-icon btn-trigger dropdown-toggle" data-bs-toggle="dropdown"><em class="icon ni ni-more-h"></em></a>
                                             <div class="dropdown-menu dropdown-menu-end">
                                                <ul class="link-list-opt no-bdr">
                                                   <li><a href="#"><em class="icon ni ni-eye"></em><span>View Details</span></a></li>
                                                   <li><a href="#"><em class="icon ni ni-edit-fill"></em><span>Edit</span></a></li>
                                                   <li class="divider"></li>
                                                   <li><a href="#"><em class="icon ni ni-comments"></em><span>Show Commentary</span></a></li>
                                                   
                                                </ul>
                                             </div>
                                          </div>
                                       </li>
                                    </ul>
                                 </div>
                             </td>
                         </tr>
                     </tbody>
                 </table>
             </div>
             <!-- <app-pagination (dataEvent)="receivePaginationData($event)"></app-pagination> -->
           </form>
        </div>        
     </div> 
     <app-spinner *ngIf="showSpinner"></app-spinner>
    </div>
 </div>

 
